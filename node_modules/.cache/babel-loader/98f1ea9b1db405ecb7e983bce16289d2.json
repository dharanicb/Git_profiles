{"ast":null,"code":"'use client';\n\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport * as React from 'react';\nimport { unstable_useForkRef as useForkRef, unstable_useId as useId, unstable_useEnhancedEffect as useEnhancedEffect } from '@mui/utils';\nimport menuReducer from './menuReducer';\nimport DropdownContext from '../useDropdown/DropdownContext';\nimport useList from '../useList';\nimport { DropdownActionTypes } from '../useDropdown';\nimport { useCompoundParent } from '../utils/useCompound';\nimport combineHooksSlotProps from '../utils/combineHooksSlotProps';\nvar FALLBACK_MENU_CONTEXT = {\n  dispatch: function dispatch() {},\n  popupId: '',\n  registerPopup: function registerPopup() {},\n  registerTrigger: function registerTrigger() {},\n  state: {\n    open: true\n  },\n  triggerElement: null\n};\n/**\n *\n * Demos:\n *\n * - [Menu](https://mui.com/base-ui/react-menu/#hooks)\n *\n * API:\n *\n * - [useMenu API](https://mui.com/base-ui/react-menu/hooks-api/#use-menu)\n */\n\nexport default function useMenu() {\n  var parameters = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var _useId, _React$useContext;\n\n  var listboxRefProp = parameters.listboxRef,\n      onItemsChange = parameters.onItemsChange,\n      idParam = parameters.id;\n  var rootRef = React.useRef(null);\n  var handleRef = useForkRef(rootRef, listboxRefProp);\n  var listboxId = (_useId = useId(idParam)) != null ? _useId : '';\n\n  var _ref = (_React$useContext = React.useContext(DropdownContext)) != null ? _React$useContext : FALLBACK_MENU_CONTEXT,\n      open = _ref.state.open,\n      menuDispatch = _ref.dispatch,\n      triggerElement = _ref.triggerElement,\n      registerPopup = _ref.registerPopup; // store the initial open state to prevent focus stealing\n  // (the first menu items gets focued only when the menu is opened by the user)\n\n\n  var isInitiallyOpen = React.useRef(open);\n\n  var _useCompoundParent = useCompoundParent(),\n      subitems = _useCompoundParent.subitems,\n      compoundComponentContextValue = _useCompoundParent.contextValue;\n\n  var subitemKeys = React.useMemo(function () {\n    return Array.from(subitems.keys());\n  }, [subitems]);\n  var getItemDomElement = React.useCallback(function (itemId) {\n    var _subitems$get$ref$cur, _subitems$get;\n\n    if (itemId == null) {\n      return null;\n    }\n\n    return (_subitems$get$ref$cur = (_subitems$get = subitems.get(itemId)) == null ? void 0 : _subitems$get.ref.current) != null ? _subitems$get$ref$cur : null;\n  }, [subitems]);\n\n  var _useList = useList({\n    disabledItemsFocusable: true,\n    focusManagement: 'DOM',\n    getItemDomElement: getItemDomElement,\n    getInitialState: function getInitialState() {\n      return {\n        selectedValues: [],\n        highlightedValue: null\n      };\n    },\n    isItemDisabled: function isItemDisabled(id) {\n      var _subitems$get2;\n\n      return (subitems == null || (_subitems$get2 = subitems.get(id)) == null ? void 0 : _subitems$get2.disabled) || false;\n    },\n    items: subitemKeys,\n    getItemAsString: function getItemAsString(id) {\n      var _subitems$get3, _subitems$get4;\n\n      return ((_subitems$get3 = subitems.get(id)) == null ? void 0 : _subitems$get3.label) || ((_subitems$get4 = subitems.get(id)) == null || (_subitems$get4 = _subitems$get4.ref.current) == null ? void 0 : _subitems$get4.innerText);\n    },\n    rootRef: handleRef,\n    onItemsChange: onItemsChange,\n    reducerActionContext: {\n      listboxRef: rootRef\n    },\n    selectionMode: 'none',\n    stateReducer: menuReducer\n  }),\n      listDispatch = _useList.dispatch,\n      getListRootProps = _useList.getRootProps,\n      listContextValue = _useList.contextValue,\n      highlightedValue = _useList.state.highlightedValue,\n      mergedListRef = _useList.rootRef;\n\n  useEnhancedEffect(function () {\n    registerPopup(listboxId);\n  }, [listboxId, registerPopup]);\n  React.useEffect(function () {\n    if (open && highlightedValue === subitemKeys[0] && !isInitiallyOpen.current) {\n      var _subitems$get5;\n\n      (_subitems$get5 = subitems.get(subitemKeys[0])) == null || (_subitems$get5 = _subitems$get5.ref) == null || (_subitems$get5 = _subitems$get5.current) == null ? void 0 : _subitems$get5.focus();\n    }\n  }, [open, highlightedValue, subitems, subitemKeys]);\n  React.useEffect(function () {\n    var _rootRef$current; // set focus to the highlighted item (but prevent stealing focus from other elements on the page)\n\n\n    if ((_rootRef$current = rootRef.current) != null && _rootRef$current.contains(document.activeElement) && highlightedValue !== null) {\n      var _subitems$get6;\n\n      subitems == null || (_subitems$get6 = subitems.get(highlightedValue)) == null || (_subitems$get6 = _subitems$get6.ref.current) == null ? void 0 : _subitems$get6.focus();\n    }\n  }, [highlightedValue, subitems]);\n\n  var createHandleBlur = function createHandleBlur(otherHandlers) {\n    return function (event) {\n      var _otherHandlers$onBlur, _rootRef$current2;\n\n      (_otherHandlers$onBlur = otherHandlers.onBlur) == null ? void 0 : _otherHandlers$onBlur.call(otherHandlers, event);\n\n      if (event.defaultMuiPrevented) {\n        return;\n      }\n\n      if ((_rootRef$current2 = rootRef.current) != null && _rootRef$current2.contains(event.relatedTarget) || event.relatedTarget === triggerElement) {\n        return;\n      }\n\n      menuDispatch({\n        type: DropdownActionTypes.blur,\n        event: event\n      });\n    };\n  };\n\n  var createHandleKeyDown = function createHandleKeyDown(otherHandlers) {\n    return function (event) {\n      var _otherHandlers$onKeyD;\n\n      (_otherHandlers$onKeyD = otherHandlers.onKeyDown) == null ? void 0 : _otherHandlers$onKeyD.call(otherHandlers, event);\n\n      if (event.defaultMuiPrevented) {\n        return;\n      }\n\n      if (event.key === 'Escape') {\n        menuDispatch({\n          type: DropdownActionTypes.escapeKeyDown,\n          event: event\n        });\n      }\n    };\n  };\n\n  var getOwnListboxHandlers = function getOwnListboxHandlers() {\n    var otherHandlers = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    return {\n      onBlur: createHandleBlur(otherHandlers),\n      onKeyDown: createHandleKeyDown(otherHandlers)\n    };\n  };\n\n  var getListboxProps = function getListboxProps() {\n    var otherHandlers = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var getCombinedRootProps = combineHooksSlotProps(getOwnListboxHandlers, getListRootProps);\n    return _extends({}, getCombinedRootProps(otherHandlers), {\n      id: listboxId,\n      role: 'menu'\n    });\n  };\n\n  React.useDebugValue({\n    subitems: subitems,\n    highlightedValue: highlightedValue\n  });\n  return {\n    contextValue: _extends({}, compoundComponentContextValue, listContextValue),\n    dispatch: listDispatch,\n    getListboxProps: getListboxProps,\n    highlightedValue: highlightedValue,\n    listboxRef: mergedListRef,\n    menuItems: subitems,\n    open: open,\n    triggerElement: triggerElement\n  };\n}","map":{"version":3,"names":["_extends","React","unstable_useForkRef","useForkRef","unstable_useId","useId","unstable_useEnhancedEffect","useEnhancedEffect","menuReducer","DropdownContext","useList","DropdownActionTypes","useCompoundParent","combineHooksSlotProps","FALLBACK_MENU_CONTEXT","dispatch","popupId","registerPopup","registerTrigger","state","open","triggerElement","useMenu","parameters","_useId","_React$useContext","listboxRefProp","listboxRef","onItemsChange","idParam","id","rootRef","useRef","handleRef","listboxId","useContext","menuDispatch","isInitiallyOpen","subitems","compoundComponentContextValue","contextValue","subitemKeys","useMemo","Array","from","keys","getItemDomElement","useCallback","itemId","_subitems$get$ref$cur","_subitems$get","get","ref","current","disabledItemsFocusable","focusManagement","getInitialState","selectedValues","highlightedValue","isItemDisabled","_subitems$get2","disabled","items","getItemAsString","_subitems$get3","_subitems$get4","label","innerText","reducerActionContext","selectionMode","stateReducer","listDispatch","getListRootProps","getRootProps","listContextValue","mergedListRef","useEffect","_subitems$get5","focus","_rootRef$current","contains","document","activeElement","_subitems$get6","createHandleBlur","otherHandlers","event","_otherHandlers$onBlur","_rootRef$current2","onBlur","call","defaultMuiPrevented","relatedTarget","type","blur","createHandleKeyDown","_otherHandlers$onKeyD","onKeyDown","key","escapeKeyDown","getOwnListboxHandlers","getListboxProps","getCombinedRootProps","role","useDebugValue","menuItems"],"sources":["/home/workspace/react-hooks/sessions/making-api-call-with-hooks-part-2/node_modules/.pnpm/@mui+base@5.0.0-beta.9_react-dom@18.2.0+react@18.2.0/node_modules/@mui/base/useMenu/useMenu.js"],"sourcesContent":["'use client';\n\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport * as React from 'react';\nimport { unstable_useForkRef as useForkRef, unstable_useId as useId, unstable_useEnhancedEffect as useEnhancedEffect } from '@mui/utils';\nimport menuReducer from './menuReducer';\nimport DropdownContext from '../useDropdown/DropdownContext';\nimport useList from '../useList';\nimport { DropdownActionTypes } from '../useDropdown';\nimport { useCompoundParent } from '../utils/useCompound';\nimport combineHooksSlotProps from '../utils/combineHooksSlotProps';\nconst FALLBACK_MENU_CONTEXT = {\n  dispatch: () => {},\n  popupId: '',\n  registerPopup: () => {},\n  registerTrigger: () => {},\n  state: {\n    open: true\n  },\n  triggerElement: null\n};\n\n/**\n *\n * Demos:\n *\n * - [Menu](https://mui.com/base-ui/react-menu/#hooks)\n *\n * API:\n *\n * - [useMenu API](https://mui.com/base-ui/react-menu/hooks-api/#use-menu)\n */\nexport default function useMenu(parameters = {}) {\n  var _useId, _React$useContext;\n  const {\n    listboxRef: listboxRefProp,\n    onItemsChange,\n    id: idParam\n  } = parameters;\n  const rootRef = React.useRef(null);\n  const handleRef = useForkRef(rootRef, listboxRefProp);\n  const listboxId = (_useId = useId(idParam)) != null ? _useId : '';\n  const {\n    state: {\n      open\n    },\n    dispatch: menuDispatch,\n    triggerElement,\n    registerPopup\n  } = (_React$useContext = React.useContext(DropdownContext)) != null ? _React$useContext : FALLBACK_MENU_CONTEXT;\n\n  // store the initial open state to prevent focus stealing\n  // (the first menu items gets focued only when the menu is opened by the user)\n  const isInitiallyOpen = React.useRef(open);\n  const {\n    subitems,\n    contextValue: compoundComponentContextValue\n  } = useCompoundParent();\n  const subitemKeys = React.useMemo(() => Array.from(subitems.keys()), [subitems]);\n  const getItemDomElement = React.useCallback(itemId => {\n    var _subitems$get$ref$cur, _subitems$get;\n    if (itemId == null) {\n      return null;\n    }\n    return (_subitems$get$ref$cur = (_subitems$get = subitems.get(itemId)) == null ? void 0 : _subitems$get.ref.current) != null ? _subitems$get$ref$cur : null;\n  }, [subitems]);\n  const {\n    dispatch: listDispatch,\n    getRootProps: getListRootProps,\n    contextValue: listContextValue,\n    state: {\n      highlightedValue\n    },\n    rootRef: mergedListRef\n  } = useList({\n    disabledItemsFocusable: true,\n    focusManagement: 'DOM',\n    getItemDomElement,\n    getInitialState: () => ({\n      selectedValues: [],\n      highlightedValue: null\n    }),\n    isItemDisabled: id => {\n      var _subitems$get2;\n      return (subitems == null || (_subitems$get2 = subitems.get(id)) == null ? void 0 : _subitems$get2.disabled) || false;\n    },\n    items: subitemKeys,\n    getItemAsString: id => {\n      var _subitems$get3, _subitems$get4;\n      return ((_subitems$get3 = subitems.get(id)) == null ? void 0 : _subitems$get3.label) || ((_subitems$get4 = subitems.get(id)) == null || (_subitems$get4 = _subitems$get4.ref.current) == null ? void 0 : _subitems$get4.innerText);\n    },\n    rootRef: handleRef,\n    onItemsChange,\n    reducerActionContext: {\n      listboxRef: rootRef\n    },\n    selectionMode: 'none',\n    stateReducer: menuReducer\n  });\n  useEnhancedEffect(() => {\n    registerPopup(listboxId);\n  }, [listboxId, registerPopup]);\n  React.useEffect(() => {\n    if (open && highlightedValue === subitemKeys[0] && !isInitiallyOpen.current) {\n      var _subitems$get5;\n      (_subitems$get5 = subitems.get(subitemKeys[0])) == null || (_subitems$get5 = _subitems$get5.ref) == null || (_subitems$get5 = _subitems$get5.current) == null ? void 0 : _subitems$get5.focus();\n    }\n  }, [open, highlightedValue, subitems, subitemKeys]);\n  React.useEffect(() => {\n    var _rootRef$current;\n    // set focus to the highlighted item (but prevent stealing focus from other elements on the page)\n    if ((_rootRef$current = rootRef.current) != null && _rootRef$current.contains(document.activeElement) && highlightedValue !== null) {\n      var _subitems$get6;\n      subitems == null || (_subitems$get6 = subitems.get(highlightedValue)) == null || (_subitems$get6 = _subitems$get6.ref.current) == null ? void 0 : _subitems$get6.focus();\n    }\n  }, [highlightedValue, subitems]);\n  const createHandleBlur = otherHandlers => event => {\n    var _otherHandlers$onBlur, _rootRef$current2;\n    (_otherHandlers$onBlur = otherHandlers.onBlur) == null ? void 0 : _otherHandlers$onBlur.call(otherHandlers, event);\n    if (event.defaultMuiPrevented) {\n      return;\n    }\n    if ((_rootRef$current2 = rootRef.current) != null && _rootRef$current2.contains(event.relatedTarget) || event.relatedTarget === triggerElement) {\n      return;\n    }\n    menuDispatch({\n      type: DropdownActionTypes.blur,\n      event\n    });\n  };\n  const createHandleKeyDown = otherHandlers => event => {\n    var _otherHandlers$onKeyD;\n    (_otherHandlers$onKeyD = otherHandlers.onKeyDown) == null ? void 0 : _otherHandlers$onKeyD.call(otherHandlers, event);\n    if (event.defaultMuiPrevented) {\n      return;\n    }\n    if (event.key === 'Escape') {\n      menuDispatch({\n        type: DropdownActionTypes.escapeKeyDown,\n        event\n      });\n    }\n  };\n  const getOwnListboxHandlers = (otherHandlers = {}) => ({\n    onBlur: createHandleBlur(otherHandlers),\n    onKeyDown: createHandleKeyDown(otherHandlers)\n  });\n  const getListboxProps = (otherHandlers = {}) => {\n    const getCombinedRootProps = combineHooksSlotProps(getOwnListboxHandlers, getListRootProps);\n    return _extends({}, getCombinedRootProps(otherHandlers), {\n      id: listboxId,\n      role: 'menu'\n    });\n  };\n  React.useDebugValue({\n    subitems,\n    highlightedValue\n  });\n  return {\n    contextValue: _extends({}, compoundComponentContextValue, listContextValue),\n    dispatch: listDispatch,\n    getListboxProps,\n    highlightedValue,\n    listboxRef: mergedListRef,\n    menuItems: subitems,\n    open,\n    triggerElement\n  };\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}